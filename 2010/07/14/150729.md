---
Title: Webminのポート変更に手間取った。
Published: 2010/07/14 15:07:29
Tags:
  - "備忘録"
Eyecatch: ""
---
<p><p>イレギュラーなことをしていると躓くという典型的パターンなのだけど。</p></p>
<p></p>
<p><p>先日<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A3%B2%A4%C1%A4%E3%A4%F3%A4%CD%A4%EB">２ちゃんねる</a>のBeサーバーでWebminの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%C0%C8%BC%E5%C0%AD">脆弱性</a>を突いてハッキングが行われたという話があった。<br /></p>
<p>同じくサーバー管理にWebminを利用しているので人ごとではないとセキュリティ向上を目的にポート変更を行うことに。</p></p>
<p></p>
<p><p></p>
<p></p>
***



<p></p>
<p>通常ならばiptablesに変更したいポートを登録し（Webmin上で編集する場合はネットワーク→拡張インターネット サービス）、Webminの設定ファイルのminiserv.confを</p></p>
<p></p>
<p><blockquote><p>port=変更したいポート番号</p></blockquote></p>
<p></p>
<p><p>のように編集すればよいのだが（Webmin上ならWebmin設定→ポートとアドレスの待機するポートを変更）、どうにもうまくいかない。</p></p>
<p></p>
<p><p>しばらくいろいろいじっていて思い出したこと。<br /></p>
<p>そういえばWebminをサーバー起動時から起動させておくのもリソースの無駄だろうとxinetdに登録していた。</p></p>
<p></p>
<p><p>xinetdを参照したところ案の定ここでポート番号を10000に指定していたわけで。<br /></p>
<p>ここを変更すれば無事にポート番号が変更されて表示された。</p></p>
<p></p>
<p><p>やれやれ、面倒なことをしたもんだ・・・。</p></p>