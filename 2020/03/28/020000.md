---
Title: ParcelでバンドルしたJavaScriptの関数を直接呼び出すときの方法
Published: 2020/03/28 2:00:00
Tags:
  - "プログラミング"
Eyecatch: ""
---
<p>HTMLのフォームにonSubmitで<a class="keyword" href="http://d.hatena.ne.jp/keyword/JavaScript">JavaScript</a>を呼ぶように実装してたんですが、HTMLファイルに直接<a class="keyword" href="http://d.hatena.ne.jp/keyword/JavaScript">JavaScript</a>を記載していたり、生の<a class="keyword" href="http://d.hatena.ne.jp/keyword/JavaScript">JavaScript</a>ファイルを読ませていた時はうまく動くのに、Parcelを通した<a class="keyword" href="http://d.hatena.ne.jp/keyword/JavaScript">JavaScript</a>ファイルだと <code>Uncaught ReferenceError</code> となってしまい、実行されない問題が発生。</p>

<p>ググったところそれっぽい情報を発見。</p>

<p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fteratail.com%2Fquestions%2F121802" title="parcelでのバンドル時にUncaught ReferenceErrorが発生｜teratail" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe></p>

<p>生の<a class="keyword" href="http://d.hatena.ne.jp/keyword/JavaScript">JavaScript</a>ファイルがこんな感じの内容だったとして、</p>

<p><script src="https://gist.github.com/Ovis/d626b8667233ff75e92cb79b23b83a41.js"> </script></p>

<p>Parcelを通すとこんなファイルが生成されます。</p>

<p><script src="https://gist.github.com/Ovis/a08c18d3d5afdaf327dccb7ebd7557b8.js"> </script></p>

<p>モジュール化されることでメソッドがグローバルに定義されなくなるので、<code>onSubmit="hogehogeMethod()"</code>と呼んでも失敗すると。</p>

<p>であればグローバル下に引きずり出してやればいいと。</p>

<p>というわけで、</p>

<p><script src="https://gist.github.com/Ovis/ff7bb3c12108525d55d4b7fc3df4e569.js"> </script></p>

<p>こんな感じで、</p>

<blockquote><p>window.メソッド名 = メソッド名;</p></blockquote>

<p>というようにグローバルに定義してやればonClickやonSubmitといった<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A4%A5%D9%A5%F3%A5%C8%A5%CF%A5%F3%A5%C9%A5%E9">イベントハンドラ</a>から呼び出すことが可能。</p>

***