---
Title: nginxのキャッシュ利用時にWindows Live Writerのテーマ更新を行うときの備忘録
Published: 2013/06/01 9:06:29
Tags:
  - "備忘録"
Eyecatch: ""
---
<p><p>はまったので備忘録。</p><p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%20Live">Windows Live</a> Writerにはブログの<a class="keyword" href="http://d.hatena.ne.jp/keyword/CSS">CSS</a>等をダウンロードしプレビューの時利用できる機能があるんですが、先ほど新しいテーマに切り替えてWriterのテーマ更新をしようとしたら<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BF%A5%A4%A5%E0%A5%A2%A5%A6%A5%C8">タイムアウト</a>に。<br />さすがにこれはおかしいぞと調べてみたらnginxのキャッシュが悪さをしているようだったので以下の設定を追加してみました。</p><blockquote><p>if ($http_user_agent ~* '<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%20Live">Windows Live</a> Writer') {<br />    set $do_not_cache 1;<br />}</p></blockquote><p><em>UserAgentに<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%20Live">Windows Live</a> Writerと入っていたらキャッシュを利用しないようにしているだけです。<br />これを行うことで私の環境ではテーマ更新を行うことができるようになりました。</em></p></p>
***