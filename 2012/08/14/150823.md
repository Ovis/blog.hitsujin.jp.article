---
Title: PT3環境の覚え書き その1
Published: 2012/08/14 15:08:23
Tags:
  - "備忘録"
Eyecatch: "http://pandora.thty.net/wp-content/uploads/2012/08/PT3-Rev2-Top-640x480.jpg"
---
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014347j:plain" src="20140126014347.jpg" alt="f:id:Ovis:20140126014347j:plain" /></span></p>
<p> </p>
<p>新PC購入に合わせてテレビ環境を一新しました。</p>
<p> </p>
<p>前環境：PT2+<a class="keyword" href="http://d.hatena.ne.jp/keyword/TvRock">TvRock</a>+TVTest</p>
<p>↓</p>
<p>新環境：PT3+Virtual PT+EpgDataCap_Bon（EDCB）+TVTest</p>
<p> </p>
***



<p> </p>
<p> </p>
<p> </p>
<p>新しいPCの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%DE%A5%B6%A1%BC%A5%DC%A1%BC%A5%C9">マザーボード</a>はP8Z77-V DELUXE。<a class="keyword" href="http://d.hatena.ne.jp/keyword/PCI">PCI</a>スロットがありません。</p>
<p>PT2は<a class="keyword" href="http://d.hatena.ne.jp/keyword/PCI">PCI</a>ですから下駄を履かせない限り使うことはできないのでPT3を購入しました。</p>
<p> </p>
<p>PT1やPT2は二つのチューナーを搭載していたため地デジと衛星放送（BS/CS）のアンテナを各チューナーに一つずつ必要だったのですがPT3は一つのチューナーで地デジ*2、衛星放送*2に対応しているので日本のアンテナですむようになりました。</p>
<p> </p>
<p><span style="font-size: medium;"><strong>PT3の稼働準備</strong></span></p>
<p> </p>
<p>1.</p>
<p>まずはPT3のドライバー（PT3-Driver-ｘxx.exe）と<a class="keyword" href="http://d.hatena.ne.jp/keyword/SDK">SDK</a>（PT3-<a class="keyword" href="http://d.hatena.ne.jp/keyword/SDK">SDK</a>-xxx.exe）をインストールします。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%B9%A5%BD%A5%D5%A5%C8">アースソフト</a>のページからそれぞれDLして指示通りクリックすればインストール完了です。PT2の頃は<a class="keyword" href="http://d.hatena.ne.jp/keyword/x64">x64</a>だとデジタル署名がされておらず有志が配布してくれていたドライバーをインストールする必要があったのですが（少々面倒くさい）、PT3では公式でドライバーに署名されているので非常に簡単になりました。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014401p:plain" src="20140126014401.png" alt="f:id:Ovis:20140126014401p:plain" /></span></p>
<p> </p>
<p>2.</p>
<p>インストールが終わったら<a class="keyword" href="http://d.hatena.ne.jp/keyword/FPGA">FPGA</a>回路の更新を行います。</p>
<p>これはどうやらハードウェアのバグを修正するもののようです。ロットによってはすでに最新版が充てられているものもあるようですが私が購入したものはまだ0x03だったので更新を行う必要がありました。</p>
<p> </p>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%B9%A5%BD%A5%D5%A5%C8">アースソフト</a>からPT3-Update-095.zip（現時点）をダウンロードして解凍、Update.exeを実行します。</p>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%DE%A5%F3%A5%C9%A5%D7%A5%ED%A5%F3%A5%D7%A5%C8">コマンドプロンプト</a>が開くので 1 を入力してEnterを押すと更新が必要かどうか検査をするという表示が出るのでもう一度 1 を押してEnterを押すと検査され結果が表示されます。私の場合は更新が必要だったのでそのまま更新を行うかどうか尋ねられます。もちろん更新するので 1 を押してEnter。</p>
<p> </p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014416p:plain" src="20140126014416.png" alt="f:id:Ovis:20140126014416p:plain" /></span></p>
<p> </p>
<p>いろいろ表示されるので止まるまで何もしないで待っていましょう。下手なことをするとPT3が故障します。</p>
<p>更新が終わったら一度PCをシャットダウンして電源プラグを引っこ抜いて最低10秒放置してからもう一度プラグを差し直して電源を入れましょう。</p>
<p> </p>
<p> </p>
<p> </p>
<p><span style="font-size: medium;"><strong>VirtualPTのインストール</strong></span></p>
<p> </p>
<p>これまでは<a class="keyword" href="http://d.hatena.ne.jp/keyword/TvRock">TvRock</a>とTVTestを利用して視聴録画をしていましたが<a class="keyword" href="http://d.hatena.ne.jp/keyword/TvRock">TvRock</a>は更新されなくなってしまったため今後が心配です。というわけで現在も更新が続けられており万が一更新がなくなっても<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BD%A1%BC%A5%B9%A5%B3%A1%BC%A5%C9">ソースコード</a>が公開されてるため第三者による更新が期待できるEpgDataCap_Bon（EDCB）を利用することにしました。</p>
<p> </p>
<p>ただ残念なことに最新版になって複合化機能が削除されてしまいました。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BD%A1%BC%A5%B9%A5%B3%A1%BC%A5%C9">ソースコード</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%E1%A5%F3%A5%C8%A5%A2%A5%A6%A5%C8">コメントアウト</a>されている部分を解除して<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%D1%A5%A4%A5%EB">コンパイル</a>すればいいのですが今後のバージョンアップで<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%E1%A5%F3%A5%C8%A5%A2%A5%A6%A5%C8">コメントアウト</a>されていた部分そのものがばっさり消されることだってあり得るので保留。前々から気になっていたVirtualPTというソフトを導入することにしました。</p>
<p> </p>
<p>VirtualPTというソフトはPT3などのチューナーを仮想化してソフトウェアから利用できるようにするソフトウェアとのこと。正直いまいちわかってなかったりするのですがこれを利用することでTvTestでBon_Driverを切り替えることなく地デジ、BS/CSにチャンネル切り替えをすることができたり録画ソフトと視聴ソフトが同じチャンネルにアクセスする場合本来二つの物理チューナーが必要なところを一つの物理チューナーでまかなったりできるとか。詳細は<a href="http://blog.livedoor.jp/domamemo/archives/2283600.html" target="_blank">こちら</a>にあるので省きますが、今回はVirtualPTの機能の一つであるストリームの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除を利用するために導入するわけです。</p>
<p> </p>
<p>1.</p>
<p>まずは<a class="keyword" href="http://d.hatena.ne.jp/keyword/Vector">Vector</a>からVirtualPTをダウンロードします。</p>
<p>ダウンロードしたZIPファイルを解凍して適切な場所に設置します。私の場合はProgram FilesにTVフォルダを作った上でその中に突っ込みました。<a class="keyword" href="http://d.hatena.ne.jp/keyword/UAC">UAC</a>切っていない場合はCドライブ直下においた方がいいのかも・・・？</p>
<p> </p>
<p>2.</p>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>フォルダと<a class="keyword" href="http://d.hatena.ne.jp/keyword/x64">x64</a>フォルダがあるので利用したい<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3">アーキテクチャ</a>のフォルダを開いてVirtualPT.exeを実行します。後述するようにTvTestの場合<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3">プラグイン</a>の関係でたとえ<a class="keyword" href="http://d.hatena.ne.jp/keyword/x64">x64</a>な<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a>を利用していても<a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>のTvTestを使うことになるのですがVirtualPTの場合は自分が使っている<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A1%BC%A5%AD%A5%C6%A5%AF%A5%C1%A5%E3">アーキテクチャ</a>のものを選んだ方がパフォーマンスが良いそうです。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014434p:plain" src="20140126014434.png" alt="f:id:Ovis:20140126014434p:plain" /></span></p>
<p> </p>
<p>3.</p>
<p>タスクトレイにVirtualPTのアイコン（起動後数秒点滅するPT2のようなデザインのもの）があるので右クリックして設定を開きます。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014451p:plain" src="20140126014451.png" alt="f:id:Ovis:20140126014451p:plain" /></span></p>
<p> </p>
<p>全般タブではチューニング空間を変更します。普通に使う場合UHF、BS、CS以外チェックを外しておけば良いかと思います。無論CATVな人はCATVにチェックを。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014530p:plain" src="20140126014530.png" alt="f:id:Ovis:20140126014530p:plain" /></span></p>
<p> </p>
<p>BCAS関連タブではBCASカードが刺さっている<a class="keyword" href="http://d.hatena.ne.jp/keyword/IC%A5%AB%A1%BC%A5%C9">ICカード</a>リーダーが表示されているはずです。複数のリーダーを利用していない限り特に変更する必要はないと思います。下の<a class="keyword" href="http://d.hatena.ne.jp/keyword/ECM">ECM</a>処理を行うだけチェックを入れておきましょう。これにチェックを入れないと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除ができません。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014549p:plain" src="20140126014549.png" alt="f:id:Ovis:20140126014549p:plain" /></span></p>
<p> </p>
<p>EARTH PTシリーズタブではLNB電源を供給するかどうかの設定があります。私の場合ほかの場所で供給しているのでOFFのままです。</p>
<p> </p>
<p>BonDriver<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B5%AC%C4%EA">規定</a>値タブではとりあえずチューニング空間を全般タブで設定したとおりにチェックを外した後「VirtualPT側で<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除を行う。」にチェックを入れておきましょう。私うっかりこれを見逃したため<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除されず1時間ほど悩みました・・・。</p>
<p>チェン寝るモードは拡張モードに切り替えます。こちらに切り替えないと<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除ができないとかどうとか。その他の設定はとりあえずいじる必要はないと思います。</p>
<p><span><img class="hatena-fotolife" title="f:id:Ovis:20140126014605p:plain" src="20140126014605.png" alt="f:id:Ovis:20140126014605p:plain" /></span></p>
<p> </p>
<p> </p>
<p> </p>
<p>4.</p>
<p>とりあえずVirtualPTの設定はこれでおしまいです。</p>
<p>次にサービス登録を行います。タスクトレイのVirtualPTのアイコンを右クリックしてサービス未登録→サービス登録をクリックします。これでサービスの登録は終わりです。<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a>のサービスとして動いているので表に見えているVirtualPTは終了しても問題ありません。</p>
<p> </p>
<p> </p>
<p> </p>
<p>その2に続く</p>