---
Title: PT3環境の覚え書き その2
Published: 2012/08/15 13:08:40
Tags:
  - "備忘録"
Eyecatch: ""
---
<p><p>その1でPT3を利用する準備とVirtualPTのインストール、設定が終わったのでTVTestとEDCBをインストールします。</p></p>
<p></p>
***



<p></p>
<p><span style="font-size: medium"><strong>TVTestのインストール・設定</strong></span>   <p>1.    <br /><a href="http://tvtest.zzl.org/" target="_blank">こちら</a>からTVTestをダウンロードして解凍します。なおDLするファイルは<a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>版です。     <br />VirtualPTのBonDriver→<a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>フォルダにあるBonDriver_VTPT.dllとBonDriver_VTPT.iniをTVTestのルートフォルダにコピペします。特にiniはいじる必要がありません。</p>  <p>2.    <br />TVTest.exeを起動するとこのようなウィンドウが開きますので、ドライバはBonDriver_VTPT.dll、カードリーダはなし（<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B9%A5%AF%A5%E9%A5%F3">スクラン</a>ブル解除しない）にします。ほかはお好みですが私は<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%C7%A5%B3%A1%BC%A5%C0">デコーダ</a>を「<a class="keyword" href="http://d.hatena.ne.jp/keyword/Microsoft">Microsoft</a> DTV-DVD Video Decoder」、レンダラを「EVR」にしています。     <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_primary.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="tvtest_primary" border="0" alt="tvtest_primary" src="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_primary_thumb.png" width="418" height="212" /></a></p>  <p>3.TVTestを起動したら右クリック、設定を開きます。</p>  <p>とりあえずチャンネルスキャンを行います。対象チューニング空間をUHFにしてスキャン開始をクリックしてチャンネルスキャンを行うわけですがVirtualPTを間に挟んでいるとどうも挟まない状態よりスキャンに時間がかかります。というわけでチャンネル切り替え後の待ち時間と最大待ち時間を短くします。私の場合1秒でも普通に検出してくれました。まぁ急いでないなら2・3秒くらいで。終わったらBS、CSも同じように。    <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_channelscan.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="tvtest_channelscan" border="0" alt="tvtest_channelscan" src="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_channelscan_thumb.png" width="407" height="314" /></a></p>  <p>とりあえずこれでTVTest上でテレビが視聴できるようになったはずです。</p>  <p>&#160;</p>  <p><span style="font-size: medium"><strong>TvtPlay、のインストール・設定</strong></span>     <br /><a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a>に標準で搭載されている<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%20Media%20Player">Windows Media Player</a>でもTSファイルは読み込まれるんですが時折挙動がおかしかったり<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%207">Windows 7</a> SP1だと音が出なかったりします。いっそのことTSファイルはTVTestでも見られるようにしてしまいましょう。     <br />私はこれまではBonDriver_Fileを利用していたんですけどもこちらだと倍速再生もでき、また開発が続けられているという点で移行することにしました。</p>  <p>1.    <br />まずは<a href="http://www1.axfc.net/uploader/Sc/so/361435" target="_blank">ここ</a>からTvtPlayをダウンロードします（パスは2sen）。ちなみに<a class="keyword" href="http://d.hatena.ne.jp/keyword/2ch">2ch</a>のDTV板にある<a href="http://find.2ch.net/?STR=TvtPlay%A4%CB%A4%C4%A4%A4%A4%C6%B8%EC%A4%EB%A5%B9%A5%EC" target="_blank">TvtPlayについて語るスレ</a>で開発が進められているので最新版はこちらで検索のこと。</p>  <p>2.    <br />解凍したらTvtPlay.tvtpをTVTestのPluginsフォルダに、BonDriver_Pipe.dllをTVTestフォルダ直下におきます。     <br />倍速再生をしたいならTvtAudioStretchFilter.axを適当な場所（今回はTVTestフォルダ直下）におきます。おいたら<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%A5%AD%A1%BC">Windowsキー</a>+Rでファイル名を指定して実行を開いて</p>  <blockquote>   <p>regsvr32 &quot;C:Program FilesTVTVTestTvtAudioStretchFilter.ax&quot; （ファイルパスは各自変更）</p> </blockquote>  <p>を実行しDirectShowフィルタを登録します。</p>  <p>3.    <br />TVTestの設定、再生にある音声フィルタをTvtAudioStretchFilterに切り替えます。     <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_audio1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="tvtest_audio" border="0" alt="tvtest_audio" src="http://pandora.thty.net/wp-content/uploads/2012/08/tvtest_audio_thumb.png" width="405" height="313" /></a></p>  <p>&#160;</p>  <p>4.   <br />これだけでTvtPlaｙが使えるんですけども私は1.5倍速なども使いたいのでTvtPlay.iniを編集。</p>  <blockquote>   <p>IconImage=     <br />SeekA=-300000      <br />SeekB=-60000      <br />SeekC=-30000      <br />SeekD=-15000      <br />SeekE=-5000      <br />SeekF=4000      <br />SeekG=14000      <br />SeekH=29000      <br />SeekI=59000      <br />SeekJ=299000      <br />StretchA=150      <br />StretchB=200      <br />StretchC=400      <br />StretchD=800      <br />StretchE=100      <br />StretchF=50.      <br />Button00=;0,Open      <br />Button01=;9,SeekToBgn      <br />Button02=;2,SeekToPrev      <br />Button03='-'5-59,SeekA      <br />Button04='-'6'0,SeekB      <br />Button05='-'3'0,SeekC      <br />Button06='-'1'5,SeekD      <br />Button07='-'5,SeekE      <br />Button08=6,Pause      <br />Button09='+'5,SeekF      <br />Button10='+'1'5,SeekG      <br />Button11='+'3'0,SeekH      <br />Button12='+'6'0,SeekI      <br />Button13='+'5-59,SeekJ      <br />Button14=;8,SeekToNext      <br />Button15=;3,SeekToEnd      <br />Button16=16:30~'*'1'.'5:30~'*'2'.'0:30~'*'4'.'0:30~'*'8'.'0,Stretch      <br />Button17='*'1'.'0,StretchE</p> </blockquote>  <p>いくつか私は使わない機能を切っているのでそれを利用したいなら;を削除してください。   <br />右から二番目のボタンをクリックすることで1.5倍→2倍→4倍→8倍になります。</p>  <p>5.&#160; <br />私は普段の視聴は<a class="keyword" href="http://d.hatena.ne.jp/keyword/WMP">WMP</a>、必要なときだけTVTestで再生を行うためTSファイルの<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%B3%A5%F3%A5%C6%A5%AD%A5%B9%A5%C8%A5%E1%A5%CB%A5%E5%A1%BC">コンテキストメニュー</a>にTVTestで開くオプションをつけます。</p>  <p>メモ帳に以下の文字列をコピペして<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EC%A5%B8%A5%B9%A5%C8%A5%EA">レジストリ</a>ファイルとして保存します。</p>  <blockquote>   <p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a> Registry Editor Version 5.00</p>    <p>[HKEY_CLASSES_ROOTWMP11.AssocFile.TTSshellTVTest]      <br />@=&quot;TVTestで開く&quot;</p>    <p>[HKEY_CLASSES_ROOTWMP11.AssocFile.TTSshellTVTestcommand]      <br />@=&quot;&quot;C:Program FilesTVTVTestTVTest.exe&quot; /d BonDriver_Pipe.dll /tvtplay /nd /s &quot;%1&quot;&quot;</p> </blockquote>  <p>後はその<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EC%A5%B8%A5%B9%A5%C8%A5%EA">レジストリ</a>ファイルを実行してしまえば登録は完了です。</p>  <p>6.&#160; <br />TVCaptionMod2のインストールもTvtPlayとそれほど変わりません。     <br />TVCaptionMod2は<a href="http://www1.axfc.net/uploader/Sc/so/370603" target="_blank">こちら</a>からDLします。こちらはDTV板の<a href="http://find.2ch.net/?STR=TS%B4%D8%CF%A2%A5%BD%A5%D5%A5%C8%A5%A6%A5%A7%A5%A2%C1%ED%B9%E7%A5%B9%A5%EC&amp;COUNT=10&amp;TYPE=TITLE&amp;BBS=ALL" target="_blank">【開発】 TS関連ソフトウェア総合スレ</a>で開発中です。</p>  <p>7.    <br />解凍したらTVCaptionMod2.tvtpとCaption.dllをTVTestのPluginsフォルダに置いた後に一度TVTestを起動して右クリック、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3">プラグイン</a>を有効すれば字幕が表示されるようになるはずです。</p>  <p>8.これだけだと時たま使われる外字の対応が弱いとのことなので設定ファイルをいじって対応させます。    <br />まず先にTV用外字のフォントをインストールします（<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows%207">Windows 7</a>だけ）。     <br />C:WindowsehomeにあるWTVGOTHIC-RB.<a class="keyword" href="http://d.hatena.ne.jp/keyword/ttc">ttc</a>をC:WindowsFontsにコピーすることでインストールされます。</p>  <p>9.    <br />先ほどTVTestを起動し<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D7%A5%E9%A5%B0%A5%A4%A5%F3">プラグイン</a>を有効にした段階でPluginsフォルダにTVCaptionMod2.iniが生成されますのでそれを開いて</p>  <blockquote>   <p>FaceName=<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a> TV ゴシック ←<a class="keyword" href="http://d.hatena.ne.jp/keyword/Windows">Windows</a> TV 丸ゴシックなどでも問題ないみたい      <br />GaijiTableName==!typebank</p> </blockquote>  <p>と修正して保存します。これで<a class="keyword" href="http://d.hatena.ne.jp/keyword/ARIB">ARIB</a>外字が適切に表示されるようになるはずです。</p>  <p>&#160;</p>  <p><span style="font-size: medium"><strong>EpgDataCap_Bonのインストール・設定</strong></span></p>  <p>視聴環境が整ったので録画環境を作ります。</p>  <p>1.</p>  <p>2.    <br />VirtualPTのBonDriver→<a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>フォルダからBonDriver_VTPT.dllとBonDriver_VTPT.iniを</p>  <blockquote>   <p>BonDriver_VTPT.dll → BonDriver_VTPT_S.dll と BonDriver_VTPT_T.dll      <br />BonDriver_VTPT.ini → BonDriver_VTPT_S.ini と BonDriver_VTPT_T.ini</p> </blockquote>  <p>のそれぞれ二つずつコピー&amp;リネームしてEpgDataCap_Bon→<a class="keyword" href="http://d.hatena.ne.jp/keyword/x86">x86</a>→BonDriverフォルダに設置します。    <br /><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="bondriver_rename" border="0" alt="bondriver_rename" src="http://pandora.thty.net/wp-content/uploads/2012/08/bondriver_rename.png" width="301" height="100" /></p>  <p>3.    <br />EpgDataCap_Bon.exeを実行します。     <br />このソフトが録画の中核となるソフトです。まずはチャンネルスキャンを行います。     <br />BonDriver毎にチャンネルスキャンを行います。TVTestの欄にも書きましたがチャンネルスキャンはVirtualPTを介さない状態で行うよりも時間がかかりますので注意。</p>  <p>4.    <br />チャンネルスキャンが終わったら設定を行います。</p>  <p>基本設定では録画保存フォルダの設定を行います。設定関係保存フォルダはデフォルトのままで問題ないです。    <br />録画保存フォルダは標準のままでは微妙なのでほかのフォルダに変えておきます。私は一つのHDDを単体で使ってるのでそれほど問題ないですけど容量が心配ならいくつかフォルダを登録しておけば良いと思います。     <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_general1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="edcb_general" border="0" alt="edcb_general" src="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_general_thumb.png" width="379" height="305" /></a></p>  <p>動作設定は    <br />・全サービスを処理対象とする     <br />・録画時、データ放送のデータを含める     <br />・最小化時タスクトレイに入れる     <br />にチェックを入れておきます。</p>  <p><a href="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_action1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="edcb_action" border="0" alt="edcb_action" src="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_action_thumb.png" width="413" height="332" /></a></p>  <p>サービス表示設定はBonDriverごとに設定を行います。BonDriver_VTPT_S.dllは衛星放送の部分にチェックを、_T.dllは地デジの映像サービスにチェックを入れましょう。    <br />また、「-」だとか難視聴地域向けのチャンネルのような見られないチャンネルは今のうちに消しておきましょう。選択して削除ボタンをポチッ。     <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_service1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="edcb_service" border="0" alt="edcb_service" src="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_service_thumb.png" width="412" height="331" /></a></p>  <p><a class="keyword" href="http://d.hatena.ne.jp/keyword/EPG">EPG</a>取得設定は映像サービスのみチェックをクリックするだけで問題ないです。    <br />基本情報のみ取得するネットワークというところはお好みで。最初詳細情報を取得した方がよいのではないかと思ったのですが実際に利用してみると基本情報だけでも問題ありませんでした。     <br /><a href="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_epg1.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="edcb_epg" border="0" alt="edcb_epg" src="http://pandora.thty.net/wp-content/uploads/2012/08/edcb_epg_thumb.png" width="411" height="330" /></a></p>  <p>EDCBの設定は以上です。EpgDataCap_Bon.exeを終了します。</p>  <p>その3に続く</p></p>